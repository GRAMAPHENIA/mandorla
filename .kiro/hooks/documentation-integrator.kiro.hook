{
  "enabled": true,
  "name": "Integrador de DocumentaciÃ³n",
  "description": "Hook que integra y organiza toda la documentaciÃ³n generada automÃ¡ticamente, creando Ã­ndices, enlaces cruzados y manteniendo la coherencia del sistema de documentaciÃ³n",
  "version": "1",
  "when": {
    "type": "fileEdited",
    "patterns": [
      "docs/**/*.md",
      "src/**/*.docs.md",
      "src/**/*.api.md"
    ]
  },
  "then": {
    "type": "askAgent",
    "prompt": "Integra y organiza automÃ¡ticamente la documentaciÃ³n generada, manteniendo un sistema coherente y navegable:\n\n## 1. AnÃ¡lisis del Sistema de DocumentaciÃ³n\n\n**Inventariar documentaciÃ³n existente:**\n- DocumentaciÃ³n de componentes (*.docs.md)\n- DocumentaciÃ³n de APIs (*.api.md)\n- Diagramas de arquitectura\n- GuÃ­as de desarrollo\n- DocumentaciÃ³n de mÃ³dulos\n\n**Detectar cambios:**\n- Nuevos archivos de documentaciÃ³n\n- DocumentaciÃ³n actualizada\n- Archivos eliminados o movidos\n- Cambios en estructura de carpetas\n\n## 2. Estructura del Sistema de DocumentaciÃ³n\n\n### OrganizaciÃ³n Principal\n```\ndocs/\nâ”œâ”€â”€ README.md                    # Ãndice principal\nâ”œâ”€â”€ getting-started/\nâ”‚   â”œâ”€â”€ installation.md\nâ”‚   â”œâ”€â”€ development.md\nâ”‚   â””â”€â”€ architecture-overview.md\nâ”œâ”€â”€ components/\nâ”‚   â”œâ”€â”€ README.md               # Ãndice de componentes\nâ”‚   â”œâ”€â”€ ui/\nâ”‚   â”‚   â”œâ”€â”€ button.docs.md\nâ”‚   â”‚   â””â”€â”€ input.docs.md\nâ”‚   â”œâ”€â”€ products/\nâ”‚   â”‚   â””â”€â”€ product-card.docs.md\nâ”‚   â””â”€â”€ cart/\nâ”‚       â””â”€â”€ cart-item.docs.md\nâ”œâ”€â”€ apis/\nâ”‚   â”œâ”€â”€ README.md               # Ãndice de APIs\nâ”‚   â”œâ”€â”€ products.api.md\nâ”‚   â”œâ”€â”€ cart.api.md\nâ”‚   â””â”€â”€ orders.api.md\nâ”œâ”€â”€ architecture/\nâ”‚   â”œâ”€â”€ README.md               # Ãndice de arquitectura\nâ”‚   â”œâ”€â”€ overview.md\nâ”‚   â”œâ”€â”€ modules/\nâ”‚   â””â”€â”€ patterns/\nâ”œâ”€â”€ guides/\nâ”‚   â”œâ”€â”€ development.md\nâ”‚   â”œâ”€â”€ testing.md\nâ”‚   â””â”€â”€ deployment.md\nâ””â”€â”€ examples/\n    â”œâ”€â”€ common-patterns.md\n    â””â”€â”€ integration-examples.md\n```\n\n## 3. GeneraciÃ³n de Ãndices AutomÃ¡ticos\n\n### Ãndice Principal (docs/README.md)\n```markdown\n# DocumentaciÃ³n del Proyecto Mandorla\n\n## ğŸ—ï¸ Arquitectura\n- [VisiÃ³n General](./architecture/overview.md)\n- [MÃ³dulos del Sistema](./architecture/modules/README.md)\n- [Patrones de DiseÃ±o](./architecture/patterns/README.md)\n\n## ğŸ§© Componentes\n- [Componentes UI](./components/ui/README.md)\n- [Componentes de Productos](./components/products/README.md)\n- [Componentes de Carrito](./components/cart/README.md)\n\n## ğŸ”Œ APIs\n- [API de Productos](./apis/products.api.md)\n- [API de Carrito](./apis/cart.api.md)\n- [API de Pedidos](./apis/orders.api.md)\n\n## ğŸ“š GuÃ­as\n- [GuÃ­a de Desarrollo](./guides/development.md)\n- [GuÃ­a de Testing](./guides/testing.md)\n- [GuÃ­a de Deployment](./guides/deployment.md)\n\n## ğŸ¯ Ejemplos\n- [Patrones Comunes](./examples/common-patterns.md)\n- [Ejemplos de IntegraciÃ³n](./examples/integration-examples.md)\n\n---\n*DocumentaciÃ³n generada automÃ¡ticamente - Ãšltima actualizaciÃ³n: [fecha]*\n```\n\n### Ãndice de Componentes (docs/components/README.md)\n```markdown\n# Componentes del Sistema\n\n## Componentes UI Base\n\n### Formularios\n- [Button](./ui/button.docs.md) - BotÃ³n reutilizable con variantes\n- [Input](./ui/input.docs.md) - Campo de entrada con validaciÃ³n\n- [Select](./ui/select.docs.md) - Selector desplegable\n\n### Layout\n- [Card](./ui/card.docs.md) - Contenedor de contenido\n- [Modal](./ui/modal.docs.md) - Ventana modal\n\n## Componentes de Dominio\n\n### Productos\n- [ProductCard](./products/product-card.docs.md) - Tarjeta de producto\n- [ProductList](./products/product-list.docs.md) - Lista de productos\n- [ProductFilter](./products/product-filter.docs.md) - Filtros de bÃºsqueda\n\n### Carrito\n- [CartItem](./cart/cart-item.docs.md) - Item del carrito\n- [CartSummary](./cart/cart-summary.docs.md) - Resumen del carrito\n\n## EstadÃ­sticas\n- **Total de componentes**: [nÃºmero]\n- **Componentes documentados**: [nÃºmero]\n- **Cobertura de documentaciÃ³n**: [porcentaje]%\n\n---\n*Ãndice generado automÃ¡ticamente*\n```\n\n### Ãndice de APIs (docs/apis/README.md)\n```markdown\n# APIs del Sistema\n\n## Endpoints Principales\n\n### Productos\n- `GET /api/products` - [Listar productos](./products.api.md#listar-productos)\n- `GET /api/products/[id]` - [Obtener producto](./products.api.md#obtener-producto)\n- `POST /api/products/search` - [Buscar productos](./products.api.md#buscar-productos)\n\n### Carrito\n- `GET /api/cart` - [Obtener carrito](./cart.api.md#obtener-carrito)\n- `POST /api/cart/items` - [Agregar item](./cart.api.md#agregar-item)\n- `PUT /api/cart/items/[id]` - [Actualizar item](./cart.api.md#actualizar-item)\n- `DELETE /api/cart/items/[id]` - [Eliminar item](./cart.api.md#eliminar-item)\n\n### Pedidos\n- `POST /api/orders` - [Crear pedido](./orders.api.md#crear-pedido)\n- `GET /api/orders/[id]` - [Obtener pedido](./orders.api.md#obtener-pedido)\n\n## Esquemas de Datos\n\n### Tipos Comunes\n```typescript\ninterface ApiResponse<T> {\n  success: boolean\n  data?: T\n  error?: {\n    code: string\n    message: string\n    details?: any\n  }\n}\n```\n\n## CÃ³digos de Estado\n- `200` - Ã‰xito\n- `201` - Creado\n- `400` - Solicitud invÃ¡lida\n- `404` - No encontrado\n- `500` - Error interno\n\n---\n*DocumentaciÃ³n de API generada automÃ¡ticamente*\n```\n\n## 4. Enlaces Cruzados AutomÃ¡ticos\n\n### DetecciÃ³n de Referencias\n**Buscar menciones de:**\n- Componentes en documentaciÃ³n de APIs\n- APIs en documentaciÃ³n de componentes\n- MÃ³dulos en diagramas de arquitectura\n- Patrones en guÃ­as de desarrollo\n\n### GeneraciÃ³n de Enlaces\n```markdown\n<!-- Enlaces automÃ¡ticos generados -->\n## Componentes Relacionados\n- [ProductCard](../components/products/product-card.docs.md)\n- [CartItem](../components/cart/cart-item.docs.md)\n\n## APIs Utilizadas\n- [API de Productos](../apis/products.api.md)\n- [API de Carrito](../apis/cart.api.md)\n\n## Diagramas\n- [Flujo de Checkout](../architecture/flows/checkout-flow.md)\n```\n\n## 5. ValidaciÃ³n de Consistencia\n\n### Verificar Enlaces\n- Enlaces internos funcionan correctamente\n- Referencias a archivos existentes\n- Anchors (#) apuntan a secciones vÃ¡lidas\n- ImÃ¡genes y diagramas estÃ¡n disponibles\n\n### Validar Contenido\n- DocumentaciÃ³n estÃ¡ actualizada\n- Ejemplos de cÃ³digo compilan\n- InformaciÃ³n de APIs es precisa\n- Diagramas reflejan la arquitectura actual\n\n### Detectar Problemas\n- DocumentaciÃ³n huÃ©rfana (sin referencias)\n- Enlaces rotos\n- InformaciÃ³n desactualizada\n- DuplicaciÃ³n de contenido\n\n## 6. Metadatos y BÃºsqueda\n\n### GeneraciÃ³n de Metadatos\n```yaml\n---\ntitle: [TÃ­tulo del documento]\ncategory: [components/apis/architecture/guides]\ntags: [tag1, tag2, tag3]\nlastUpdated: [fecha ISO]\nauthor: Sistema de documentaciÃ³n automÃ¡tica\nversion: [versiÃ³n]\nstatus: [stable/beta/deprecated]\nrelated:\n  - [documento-relacionado-1.md]\n  - [documento-relacionado-2.md]\n---\n```\n\n### Ãndice de BÃºsqueda\n```json\n{\n  \"documents\": [\n    {\n      \"path\": \"components/ui/button.docs.md\",\n      \"title\": \"Button Component\",\n      \"category\": \"components\",\n      \"tags\": [\"ui\", \"button\", \"form\"],\n      \"lastUpdated\": \"2024-01-15T10:30:00Z\",\n      \"excerpt\": \"Componente de botÃ³n reutilizable con mÃºltiples variantes...\"\n    }\n  ]\n}\n```\n\n## 7. GeneraciÃ³n de Sitio de DocumentaciÃ³n\n\n### ConfiguraciÃ³n para Generadores\n**Preparar para:**\n- Docusaurus\n- GitBook\n- VitePress\n- Nextra\n\n### Estructura de NavegaciÃ³n\n```javascript\n// sidebars.js para Docusaurus\nmodule.exports = {\n  docs: [\n    {\n      type: 'category',\n      label: 'Arquitectura',\n      items: ['architecture/overview', 'architecture/modules']\n    },\n    {\n      type: 'category', \n      label: 'Componentes',\n      items: ['components/ui/button', 'components/products/product-card']\n    }\n  ]\n}\n```\n\n## 8. Mantenimiento AutomÃ¡tico\n\n### Tareas de Limpieza\n- Eliminar documentaciÃ³n de componentes eliminados\n- Actualizar enlaces cuando se mueven archivos\n- Regenerar Ã­ndices cuando cambia la estructura\n- Limpiar archivos temporales\n\n### Reportes de Calidad\n```markdown\n# Reporte de Calidad de DocumentaciÃ³n\n\n## EstadÃ­sticas\n- **Archivos de documentaciÃ³n**: 45\n- **Enlaces verificados**: 123\n- **Enlaces rotos**: 2\n- **Cobertura de componentes**: 85%\n- **Cobertura de APIs**: 100%\n\n## Problemas Detectados\n- [ ] Enlace roto en components/ui/button.docs.md lÃ­nea 23\n- [ ] DocumentaciÃ³n faltante para ProductFilter component\n- [ ] Diagrama desactualizado en architecture/overview.md\n\n## Sugerencias\n- Agregar mÃ¡s ejemplos de uso en APIs\n- Crear guÃ­a de migraciÃ³n para cambios recientes\n- Actualizar screenshots en guÃ­as de usuario\n```\n\n## Instrucciones de EjecuciÃ³n\n\n1. **Escanear** todos los archivos de documentaciÃ³n\n2. **Analizar** estructura y contenido\n3. **Generar** Ã­ndices automÃ¡ticos\n4. **Crear** enlaces cruzados\n5. **Validar** consistencia y enlaces\n6. **Actualizar** metadatos\n7. **Generar** reportes de calidad\n\n**Formato de Respuesta:**\n- ğŸ“š **Documentos procesados**: [nÃºmero de archivos]\n- ğŸ“‹ **Ãndices generados**: [lista de Ã­ndices creados]\n- ğŸ”— **Enlaces cruzados**: [nÃºmero de enlaces generados]\n- âœ… **Enlaces vÃ¡lidos**: [nÃºmero/total]\n- âŒ **Enlaces rotos**: [nÃºmero y ubicaciones]\n- ğŸ“Š **Cobertura**: [porcentaje de documentaciÃ³n]\n- ğŸ”§ **Archivos actualizados**: [lista de archivos modificados]\n- âš ï¸ **Problemas detectados**: [lista de problemas]\n- ğŸ’¡ **Sugerencias**: [mejoras recomendadas]"
  }
}